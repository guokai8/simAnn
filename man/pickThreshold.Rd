% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/threshold_cluster.R
\name{pickThreshold}
\alias{pickThreshold}
\title{Select the Best Threshold for Clustering}
\usage{
pickThreshold(
  sim_mat,
  thresholds = seq(0.5, 0.9, by = 0.01),
  cluster_method = c("components", "louvain", "walktrap"),
  quality_metric = c("modularity", "silhouette", "ch_index", "db_index"),
  remove_self = TRUE,
  verbose = TRUE
)
}
\arguments{
\item{sim_mat}{A numeric similarity matrix.}

\item{thresholds}{A numeric vector of threshold values to evaluate. Default is \code{seq(0.5, 0.9, by = 0.01)}.}

\item{cluster_method}{A character string specifying the clustering method to use with \code{threshold_cluster}. Options:
\code{"components"}, \code{"louvain"}, or \code{"walktrap"}. Default is \code{"components"}.}

\item{quality_metric}{A character string specifying the quality metric to use for evaluating clustering results.
Options are: \code{"modularity"}, \code{"silhouette"}, \code{"ch_index"}, or \code{"db_index"}. Default is \code{"modularity"}.}

\item{remove_self}{Logical. If \code{TRUE} (the default), self-loops are removed by setting the diagonal of \code{sim_mat} to 0.}

\item{verbose}{Logical. If \code{TRUE}, prints progress messages. Default is \code{TRUE}.}
}
\value{
A list containing:
\describe{
  \item{best_threshold}{The threshold value that maximizes the selected quality metric.}
  \item{thresholds}{The evaluated threshold values.}
  \item{quality_values}{The computed quality metric values for each threshold.}
}
}
\description{
Evaluates a range of threshold values to determine the optimal threshold for clustering a similarity matrix.
For each threshold, the function applies the clustering algorithm (via \code{threshold_cluster}) and computes
one of several quality metrics. The available quality metrics include:
\itemize{
  \item \code{"modularity"}: Uses the modularity value computed by \code{igraph::modularity}.
  \item \code{"silhouette"}: Uses the average silhouette width computed on a distance matrix defined as \code{1 - sim_mat}.
  \item \code{"ch_index"}: Uses the Calinski–Harabasz index computed from coordinates obtained by cmdscale.
  \item \code{"db_index"}: Uses the reciprocal of the Davies–Bouldin index (so that higher is better).
}
}
\examples{
\dontrun{
  sim_mat <- matrix(runif(100, 0, 1), nrow = 10)
  diag(sim_mat) <- 1
  result <- pickThreshold(sim_mat, thresholds = seq(0.5, 0.9, by = 0.01),
                                  cluster_method = "components", quality_metric = "ch_index")
  best_th <- result$best_threshold
}

}
